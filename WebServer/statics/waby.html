<!DOCTYPE html>
<html>
  <head>
    <title>Lishmo</title>

        <style>
            body {
                font-family: sans-serif;
                text-align: center;
                padding-top: 100px;
                transition: background-color 0.3s ease;
            }
            button {
                font-size: 1.2rem;
                padding: 10px 20px;
                cursor: pointer;
                border-radius: 8px;
                border: none;
                background-color: #555;
                color: white;
            }
            button:hover {
                opacity: 0.85;
            }
            </style>

  </head>

  <body>
    <h1>Alishma Testing Site 0</h1>
    <button id = "toggle"> More Pink? </button> 
    
    <script>
        const btn = document.getElementById("toggle");
        btn.addEventListener("click", () => {
            
            const isPink = document.body.style.backgroundColor === "pink";
            document.body.style.backgroundColor = isPink ? "white" : "pink";
            btn.textContent = isPink ? "More Pink" : "Less Pink";

        })
    </script>

    <h2> Send Text to LED </h2>
    <form action = "/display" method="post">

        <input type="text" name="line1" placeholder="Line 1" maxlength="16"><br><br>
        <input type="text" name="line2" placeholder="Line 2" maxlength="16"><br><br>
        <button type="submit">Display</button>

    </form>
    
    <h2>Recent Submissions</h2>
    <div id="logBox" style="
    max-width: 600px;
    margin: 20px auto;
    text-align: left;
    font-family: monospace;
    white-space: pre-wrap;
    background: #f5f5f5;
    border-radius: 8px;
    padding: 10px;
    height: 200px;
    overflow-y: auto;
    "></div>

    <script>
    async function loadLogs() {
    try {
        const res = await fetch("/logs");
        const data = await res.json();
        const box = document.getElementById("logBox");
        box.innerHTML = data.logs
        .map(line => `<div>${line}</div>`)
        .join("");
    } catch (err) {
        console.error("Failed to load logs", err);
    }
    }

    // Initial load + refresh every 5 seconds
    loadLogs();
    setInterval(loadLogs, 5000);
    </script>

  </body>
</html>